# Tensegrity Aerial Vehicle Collision Simulator

This repository contains source code implementing dynamics simulation of a tensegrity aerial vehicle colliding with a flat obstacle, such as a concrete wall. The code can be used to verify the design of icosahedron protection shells protecting aerial vehicles in the form of quadcopters. 

The detail of the simulation is described in the paper "A collision-resilient aerial robot design with an
icosahedron tensegrity shell". A preprint version of the paper will be available on arxiv shortly.

Contact: Clark Zha (clark.zha@berkeley.edu)
High Performance Robotics Lab, Dept. of Mechanical Engineering, UC Berkeley

## Dependencies
The code uses following common python packages:
```
numpy, scipy, matplotlib, seaborn
```
If you want to generate videos for your simulation result, you additionally need:
```
ffmpeg
```
In addition, the code uses [py3dmath](https://github.com/muellerlab/TensegrityAerialVehicleCollisionSim) for 3D vector computation. For the ease of usage, we include a copy of the package in this repository so no additional installation is required.  


## Quick Start Guide

To visualize a tensegrity vehicle structure:
```
python plot_vehicles.py
```

To visualize a tensegrity vehicle side by side with a propeller-guard vehicle for comparison:
```
python plot_tensegrity_vehicle.py
```

To run an example simulation of a tensegrity vehicle colliding into a wall: 
```
python simulation_tensegrity_wall_collision.py
```

In addition, the "Tensegrity VS Propeller-guard Comparative Study" result can be recreated by running:
```
mkdir simResult
python prop_guard_vs_tensegrity_wall_collision.py
python read_and_plot_comparison_data.py
```
Notice that you need write permission to the simResult folder to store pickle files generated by the simulation code. In addition, this will take a very long computation time as more than 1800 ODEs with non-trivial dims are solved. We recommend you to start with a smaller scale experiment by changing the parameter "n" in the code. 

## Using this software as tensegrity design tool 
To create and test your own tensegrity vehicle, you can change parameters like size, weight, material, etc. in 
```
problem_setup.py
```
You can also adjust initial orientation and speed of the tesegrity in the wall collision experiment by modifying the setup section in
```
simulation_tensegrity_wall_collision.py
```
